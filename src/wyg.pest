// Still experimental. It now correctly parses sentences inside paragraph.

WHITESPACE = _{" "|"\t"}

str_inner = @{ char* }
char = {
	!("\"" | "\\") ~ ANY
    | "\\" ~ ("\"" | "\\" | "/" | "b" | "f" | "n" | "r" | "t" )
}

word = _{(LETTER | NUMBER)+}
sentence = _{word ~ ","? ~ (SPACE_SEPARATOR ~ word)* ~ ("." | "?" | "!")}
paragraph = _{sentence ~ (" " ~ sentence)* }

item = ${ paragraph }

field = _{ (item)+ }
event_record = { "Event:" ~ "\n" ~ field ~ ("\n" ~ field)* }
choice_record = { "Choice:" ~ "\n" ~ "-" ~ field ~ ("\n" ~ "-" ~ field)* }
record = { event_record ~ "\n" ~ "\n" ~ choice_record }

file = { SOI ~ (event_record ~ ("\r\n" | "\n"))* ~ EOI }
